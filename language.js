// Spracheinstellungen
const translations = {
    'de': {
        'menu_pill_projects': 'Projekte',
        'menu_pill_vault': 'Mein Tresor',
        'menu_pill_about': 'Über mich',
        'menu_pill_back': 'Zurück',
        'header_text': "Ich bin Kağan, ein Informatikstudent an der DHBW Stuttgart.",
        'projects_header_text': 'Projekte',
        'about_header_text': 'Über mich - Full Stack Entwickler & Informatikstudent',
        'about_text': "Ich bin Kağan Demirer, ein Entwickler aus Lauffen am Neckar, DE. Ich arbeite derzeit bei W&W Informatik GmbH und studiere Informatik an der DHBW Stuttgart<br/><br/>Ich lege großen Wert auf sauberen, effizienten Code, der benutzerfreundliche Produkte antreibt. Ich neige zu Einfachheit und Funktionalität, und es gibt nichts Befriedigenderes, als Lösungen zu entwickeln, die sowohl effektiv als auch elegant sind.<br/>",
        'about_links_resources_header_text': 'Links & Ressourcen',
        'about_links_resources_checkmywork': 'Meine Arbeiten ansehen',
        'about_links_resources_getintouch': 'In Kontakt treten',
        'about_links_resources_downloadresume': 'Lebenslauf herunterladen',
        'vault_documents_header_text': 'Dokumente',
        'vault_documents_text': 'Dokumente von und über mich',
        'vault_minigames_header_text': 'Minispiele',
        'vault_minigames_text': 'Minispiele im Browser',
        'vault_minigame_minesweeper_header_text': 'Minesweeper',
        'vault_minigame_minesweeper_text': 'Das klassische Minenfeldspiel',
        'vault_minigame_whoami_header_text': 'Wer bin ich?',
        'vault_minigame_whoami_text': 'Das beliebte Ratespiel',
        'vault_document_student_research': "<h4>Studentisches Forschungsprojekt</h4><h6>Web-Framework zur automatisierten UX-Bewertung</h6><p>kommt bald</p>",
        'vault_document_bachelor_thesis': "<h4>Bachelorarbeit</h4><p>kommt bald</p>",
        'vault_document_resume': "<h4>Lebenslauf</h4><p>Karriereweg & Profil</p>",
        'projects_summary': 'Zusammenfassung',
        'projects_results': 'Ergebnisse',
        'projects_role': 'Rolle',
        'projects_team': 'Team',
        

        // PROJECTS
        'project_whoami_title': 'Wer Bin Ich? Das Charakter-Ratespiel',
        'project_whoami_summary': 'Ein Charakter-Ratespiel mit Ja/Nein-Fragen.',
        'project_whoami_results': 'Veröffentlicht <a href="http://kagandemirer.de/werbinich" target="_blank">hier</a>.',
        'project_whoami_role': 'Entwickler',

        // PORG Project
        'project_porg_title': 'PORG: Der Universitäts-Chatbot Assistent',
        'project_porg_summary': 'Ein Chatbot, den wir entwickelt haben, um Fragen von DHBW IT-Studenten zu beantworten und Professorenprofile bereitzustellen.',
        'project_porg_results': 'Ein Projekt an der Universität - wurde nie veröffentlicht',
        'project_porg_role': 'Entwickler',

        // DönerGuide Project
        'project_doenerguide_title': 'DönerGuide: Lokale Döner-Entdeckungsplattform',
        'project_doenerguide_summary': 'Eine Web-App, die wir entwickelt haben, um Nutzern zu helfen, Dönerläden in der Nähe zu finden, zu bewerten und zu filtern, wobei Standorte und Bewertungen auf einer Karte angezeigt werden.',
        'project_doenerguide_results': 'Ein Projekt an der Universität - wurde nie veröffentlicht',
        'project_doenerguide_role': 'Entwickler',

        // Tap to Serve Project
        'project_taptoserve_title': 'Tap to Serve: NFC-Restaurant-Servicelösung',
        'project_taptoserve_summary': 'Ermöglicht Kunden, in Restaurants per NFC-gescannter App auf ihren Handys zu bestellen und Kellner zu rufen.',
        'project_taptoserve_results': 'Vollständig entwickelt, aber schlecht vermarktet — dennoch eine großartige Lernerfahrung.',
        'project_taptoserve_role': 'Produktinhaber, Entwickler',

        // EatWhatUNeed Project
        'project_ewun_title': 'EatWhatUNeed: Internationale Rezepte-Entdeckung',
        'project_ewun_summary': 'Hilft Nutzern, internationale Gerichte zu finden, sie in ihrer Sprache anzuzeigen und zu Einkaufslisten hinzuzufügen oder mit Freunden zu teilen.',
        'project_ewun_results': 'Vollständig entwickelt, aber schlecht vermarktet — dennoch eine großartige Lernerfahrung.',
        'project_ewun_role': 'Produktinhaber, Entwickler, Designer',
    },
    'en': {
        'menu_pill_projects': 'Projects',
        'menu_pill_vault': 'My vault',
        'menu_pill_about': 'About',
        'menu_pill_back': 'Back',
        'header_text': "I'm Kağan, a Computer Science student at DHBW Stuttgart.",
        'projects_header_text': 'Development Projects',
        'about_header_text': 'About me - Full Stack Developer & CS Student',
        'about_text': "I'm Kağan Demirer, a developer based in Lauffen am Neckar, DE. I am currently working at W&W Informatik GmbH and studying computer science at the DHBW Stuttgart<br/><br/>I'm all about writing clean, efficient code that powers user-friendly products. I lean towards simplicity and functionality, and there's nothing more satisfying than developing solutions that are both effective and elegant.<br/>",
        'about_links_resources_header_text': 'Links & Resources',
        'about_links_resources_checkmywork': 'Check my work',
        'about_links_resources_getintouch': 'Get in touch',
        'about_links_resources_downloadresume': 'Download my resume',
        'vault_documents_header_text': 'Documents',
        'vault_documents_text': 'Documents by and about me',
        'vault_minigames_header_text': 'Minigames',
        'vault_minigames_text': 'Fun browser-based games',
        'vault_minigame_minesweeper_header_text': 'Minesweeper',
        'vault_minigame_minesweeper_text': 'The classic minefield game',
        'vault_minigame_whoami_header_text': 'Who am I?',
        'vault_minigame_whoami_text': 'The popular guessing game',
        'vault_document_student_research': "<h4>Student research project</h4><h6>Web framework for automated UX evaluation</h6><p>coming soon</p>",
        'vault_document_bachelor_thesis': "<h4>bachelor thesis</h4><p>coming soon</p>",
        'vault_document_resume': "<h4>CV</h4><p>Career Path & Profile</p>",
        'projects_summary': 'Summary',
        'projects_results': 'Results',
        'projects_role': 'Role',
        'projects_team': 'Team',


        // PROJECTS
        'project_whoami_title': 'Who Am I? The Character Guessing Game',
        'project_whoami_summary': 'A character guessing game using Yes/No questions.',
        'project_whoami_results': 'Published <a href="http://kagandemirer.de/werbinich" target="_blank">here</a>.',
        'project_whoami_role': 'Developer',

        // PORG Project
        'project_porg_title': 'PORG: The University Chatbot Assistant',
        'project_porg_summary': 'A chatbot we developed to answer DHBW IT students\' questions and provide professor profiles.',
        'project_porg_results': 'A project at the university - was never published',
        'project_porg_role': 'Developer',

        // DönerGuide Project
        'project_doenerguide_title': 'DönerGuide: Local Kebab Discovery Platform',
        'project_doenerguide_summary': 'A web app we developed to help users find, review, and filter nearby kebab shops, displaying locations and ratings on a map.',
        'project_doenerguide_results': 'A project at the university - was never published',
        'project_doenerguide_role': 'Developer',

        // Tap to Serve Project
        'project_taptoserve_title': 'Tap to Serve: NFC Restaurant Service Solution',
        'project_taptoserve_summary': 'Lets customers order and call servers at restaurants via NFC-scanned app on their phones.',
        'project_taptoserve_results': 'Fully developed but poorly marketed — yet it was a great learning experience.',
        'project_taptoserve_role': 'Product owner, developer',

        // EatWhatUNeed Project
        'project_ewun_title': 'EatWhatUNeed: International Recipe Discovery',
        'project_ewun_summary': 'Helping users find international dishes, view them in their language, and add to shopping lists or share with friends',
        'project_ewun_results': 'Fully developed but poorly marketed — yet it was a great learning experience.',
        'project_ewun_role': 'Product owner, Developer, Designer',
    },
    'tr': {
        'menu_pill_projects': "Projeler",
        'menu_pill_vault': "Kasam",
        'menu_pill_about': "Hakkımda",
        'menu_pill_back': "Geri",
        'header_text': "Ben Kağan, DHBW Stuttgart'ta Bilgisayar Bilimleri öğrencisiyim.",
        'projects_header_text': 'Projeler',
        'about_header_text': 'Hakkımda - Full Stack Geliştirici & Bilgisayar Bilimleri Öğrencisi',
        'about_text': "Ben Kağan Demirer, Lauffen am Neckar, DE merkezli bir geliştiriciyim. Şu anda W&W Informatik GmbH'de çalışıyorum ve DHBW Stuttgart'ta bilgisayar bilimi okuyorum<br/><br/>Kullanıcı dostu ürünleri destekleyen temiz, verimli kod yazmaya büyük önem veriyorum. Basitlik ve işlevselliğe eğilimliyim ve hem etkili hem de şık çözümler geliştirmekten daha tatmin edici bir şey yok.<br/>",
        'about_links_resources_header_text': 'Bağlantılar & Kaynaklar',
        'about_links_resources_checkmywork': 'Çalışmalarımı Görüntüle',
        'about_links_resources_getintouch': 'İletişime Geç',
        'about_links_resources_downloadresume': 'Özgeçmişimi İndir',
        'vault_documents_header_text': 'Belgeler',
        'vault_documents_text': 'Benimle ilgili ve benim tarafımdan belgeler',
        'vault_minigames_header_text': 'Mini Oyunlar',
        'vault_minigames_text': 'Tarayıcı tabanlı eğlenceli oyunlar',
        'vault_minigame_minesweeper_header_text': 'Mayın Tarlası',
        'vault_minigame_minesweeper_text': 'Klasik mayın tarlası oyunu',
        'vault_minigame_whoami_header_text': 'Ben kimim?',
        'vault_minigame_whoami_text': 'Popüler tahmin oyunu',
        'vault_document_student_research': "<h4>Öğrenci araştırma projesi</h4><h6>Otomatik UX değerlendirmesi için web çerçevesi</h6><p>yakında geliyor</p>",
        'vault_document_bachelor_thesis': "<h4>lisans tezi</h4><p>yakında geliyor</p>",
        'vault_document_resume': "<h4>özgeçmiş</h4><p>Kariyer Yolu & Profil</p>",
        'projects_summary': 'Özet',
        'projects_results': 'Sonuçlar',
        'projects_role': 'Rol',
        'projects_team': 'Ekip',


        // PROJECTS
        'project_whoami_title': 'Ben Kimim? Karakter Tahmin Oyunu',
        'project_whoami_summary': 'Evet/Hayır soruları kullanarak bir karakter tahmin oyunu.',
        'project_whoami_results': 'Yayınlandı <a href="http://kagandemirer.de/werbinich" target="_blank">burada</a>.',
        'project_whoami_role': 'Yazarımcı',

        // PORG Project
        'project_porg_title': 'PORG: Üniversite Sohbet Robotu Asistanı',
        'project_porg_summary': 'DHBW BT öğrencilerinin sorularını yanıtlamak ve profesör profilleri sağlamak için geliştirdiğimiz bir sohbet robotu.',
        'project_porg_results': 'Üniversitede bir proje - hiç yayınlanmadı',
        'project_porg_role': 'Yazarımcı',

        // DönerGuide Project
        'project_doenerguide_title': 'DönerGuide: Yerel Döner Keşif Platformu',
        'project_doenerguide_summary': 'Kullanıcıların yakınlardaki döner dükkanlarını bulmasına, incelemesine ve filtrelemesine yardımcı olan, konumları ve derecelendirmeleri bir harita üzerinde gösteren bir web uygulaması.',
        'project_doenerguide_results': 'Üniversitede bir proje - hiç yayınlanmadı',
        'project_doenerguide_role': 'Yazarımcı',

        // Tap to Serve Project
        'project_taptoserve_title': 'Tap to Serve: NFC Restoran Hizmet Çözümü',
        'project_taptoserve_summary': 'Müşterilerin telefonlarındaki NFC taramalı uygulama aracılığıyla restoranlarda sipariş vermelerini ve garson çağırmalarını sağlar.',
        'project_taptoserve_results': 'Tamamen geliştirilmiş ancak kötü pazarlanmış — yine de harika bir öğrenme deneyimiydi.',
        'project_taptoserve_role': 'Ürün sahibi, yazarımcı',

        // EatWhatUNeed Project
        'project_ewun_title': 'EatWhatUNeed: Uluslararası Tarif Keşfi',
        'project_ewun_summary': 'Kullanıcılara uluslararası yemekleri bulmalarına, kendi dillerinde görüntülemelerine ve alışveriş listelerine eklemelerine veya arkadaşlarıyla paylaşmalarına yardımcı olur.',
        'project_ewun_results': 'Tamamen geliştirilmiş ancak kötü pazarlanmış — yine de harika bir öğrenme deneyimiydi.',
        'project_ewun_role': 'Ürün sahibi, yazarımcı, tasarımcı',
    }
};

// Cookie-Funktionen
function setCookie(name, value, days) {
    let expires = "";
    if (days) {
        const date = new Date();
        date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));
        expires = "; expires=" + date.toUTCString();
    }
    document.cookie = name + "=" + (value || "") + expires + "; path=/";
}

function getCookie(name) {
    const nameEQ = name + "=";
    const ca = document.cookie.split(';');
    for (let i = 0; i < ca.length; i++) {
        let c = ca[i];
        while (c.charAt(0) === ' ') c = c.substring(1, c.length);
        if (c.indexOf(nameEQ) === 0) return c.substring(nameEQ.length, c.length);
    }
    return null;
}

// Spracheinstellungen
let currentLanguage = getCookie('language') || 'en';

function changeLanguage(lang) {
    currentLanguage = lang;
    setCookie('language', lang, 365); // Speichert die Sprachauswahl für 1 Jahr
    updatePageLanguage();
}

function updatePageLanguage() {
    document.documentElement.setAttribute('lang', currentLanguage);
    
    // Alle Elemente mit data-i18n aktualisieren
    document.querySelectorAll('[data-i18n]').forEach(element => {
        const key = element.getAttribute('data-i18n');
        if (translations[currentLanguage][key]) {
            element.innerHTML = translations[currentLanguage][key];
        }
    });

    // Sprachauswahl-Buttons aktualisieren
    document.querySelectorAll('.language-selector button').forEach(button => {
        button.classList.remove('active');
        if (button.getAttribute('data-lang') === currentLanguage) {
            button.classList.add('active');
        }
    });
}

// Initialisieren nach dem Laden der Seite
document.addEventListener('DOMContentLoaded', () => {
    updatePageLanguage();

    const languageSelector = document.querySelector('#language-selector');
    if (languageSelector) {
        languageSelector.value = currentLanguage;
    }
});